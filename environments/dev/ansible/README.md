# Ansible Configuration for Dev Environment

This directory contains Ansible playbooks and configuration to provision the application server in the development environment.

## Overview

The Ansible playbook performs the following tasks on the target EC2 instance:
1.  Installs **Git** and **Nginx**.
2.  Clones the portfolio website repository to `/var/www/portfolio`.
3.  Configures Nginx to serve the static site using a custom template.
4.  Sets appropriate file permissions and security headers.

## Directory Structure

- `inventory.ini`: Defines the target hosts and connection details (IP, user, SSH key).
- `playbook.yml`: The main Ansible playbook defining tasks and handlers.
- `templates/`: Contains Jinja2 templates for configuration files.
  - `nginx_portfolio.conf.j2`: Nginx server block configuration.

## Prerequisites

- Ansible installed on your local machine.
- SSH access to the EC2 instance (ensure your public key is added to the instance via Terraform or manually).
- The private key file located at `~/.ssh/id_ed25519` (or update `inventory.ini` to match your key path).

## Usage

1.  **Update Inventory**:
    Edit `inventory.ini` with the public IP address of your EC2 instance (which can be obtained from the Terraform output).  The `inventory.ini` file is also dynamically generated by Terraform after an apply.

    ```ini
    [ec2_instances_dev]
    <EC2_PUBLIC_IP> ansible_user=ec2-user ansible_ssh_private_key_file=~/.ssh/id_ed25519
    ```

2.  **Run the Playbook**:
    Execute the following command from this directory:

    ```bash
    ansible-playbook -i inventory.ini playbook.yml
    ```

3.  **Verify**:
    Open a web browser and navigate to the EC2 instance's public IP (http://<EC2_PUBLIC_IP>) to see the deployed portfolio.
    *Note: Ensure the Security Group allows inbound traffic on port 80.*